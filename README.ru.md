# Registrino
Простой и интуитивный способ Реактивного Программирования

## Идея
Одна из характеристик реактивного программирования - это, то, что при изменении входных данных, происходит автоматический пересчёт данных, зависящих от них.

Самые известные библиотеки для рекативного программирования очень функциональны, но сложны с концептуальной точки зрения.

Идея библиотеки `Registrino` очень проста: нам всего лишь нужно зарегистрировать переменные и функции, которые зависят от *других* переменных и функций.

К примеру,

```javascript
// Следующий код создаст регистр `logic`
var logic = Registrino(function(r) {
  var
    revenue = r.var( 150 ), // Это регистрирует переменную `revenue` (выручка) со значением 150
    cost    = r.var( 100 ), // Это регистрирует переменную `cost` (затраты) со значением 100
    
    // Следующий код создаст переменную `profit` (прибыль), которая зависит от `revenue` и `cost`, и
    // которая будет автоматически пересчитана каждый раз, когда `revenue` или `cost` изменится
    profit  = r.fun(revenue, cost).is(function(revenue, cost) {
      return revenue - cost;
    })
  ;
  
  // Так же мы можем создать "скрытую" функцию, к которой у пользователя не будет доступа,
  // но которая всё равно будет обновлена каждый раз, когда её зависимые переменные / функции
  // меняют значение. Это особенно полезно для обновления DOM.
  r.fun(profit).is(function(profit) {
    console.log("Profit is", profit);
  });

  // Возвращая следующие свойства, они окажутся в регистре `logic`.
  return {
    revenue : revenue,
    cost    : cost,
    profit  : profit
  };
});
```

Данный пример регистрирует переменные `revenue` (выручка) и `cost` (затраты), и функцию `profit` (прибыль), которая будет автоматически посчитана как `revenue` минус `cost`. Потом, мы регистрируем скрытую функцию, которая будет выводить значение `profit` каждый раз, когда её значение меняется.

Каждая переменная и функция имеет значение, и это значение можно узнать с помощью

```javascript
logic.profit.get(); // Возвращает 50
```

Или, изменить её значение с помощью

```javascript
logic.revenue.set( 150 );
```

## В чём польза?

Когда мы изменяем значение переменной или функции, то функции, которые от неё зависят, будут автоматически пересчитаны. В предыдущем примере,

```javascript
logic.profit.get();        // Возвращает 50
logic.revenue.set( 250 );  // Меняем выручку на 350 (было 150)
logic.profit.get();        // Возвращает 250
```

Этот подход по смыслу напоминает функции ячеек в Excel. Такая функциональность особенно полезна для
* Декларативного подхода к программированию
* Создания реактивного DOM и шаблонных систем
* Работы с изменением состояния в системах
* Создание системы настройки [пользовательских элементов](https://learn.javascript.ru/webcomponent-core)
